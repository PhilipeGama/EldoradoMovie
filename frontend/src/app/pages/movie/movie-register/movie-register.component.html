<div class="container">
    <div class="alert alert-primary" *ngIf="hasSuccess">{{ successMessage }}</div>

        
    <div class="alert alert-danger" *ngIf="hasErrors">
        {{errorMessage}}
    </div>

    <h2>Cadastro de filme</h2>

        <form action="">
            <div class="form-group">
                <label for="name">Nome</label>
                <input class="form-control" type="input"  id="name" name="name" placeholder="Digite nome do filme" [(ngModel)]="movie.name" required [minLength]="5"> 
                <span hidden="name.valid"></span>
              </div>

            <div class="form-group">
                <label for="synopsis">Sinopse</label>
                <textarea class="form-control" id="synopsis" name="synopsis" placeholder="Digite a sinopse do filme"  [(ngModel)]="movie.synopsis"></textarea>
            </div>

            <div class="form-group">
                <label for="name">Trailer</label>
                <input class="form-control" type="input"  id="trailer" name="trailer" placeholder="URL do trailer" [(ngModel)]="movie.trailer">
            </div>

            <div class="form-group">
                <label for="releaseDate">Data de Lançamento</label>
                <input class="form-control" type="date" id="releaseDate" name="releaseDate" [(ngModel)]="movie.releaseDate">
            </div>
       
            <div class="form-group">
                <label for="boxOffice">Bilheteria</label>
                <input type="text" class="form-control" id="boxOffice" name="boxOffice" placeholder="Digite a bilheteria do filme" [(ngModel)]="movie.boxOffice">
            </div>

            <div class="form-group">
                <label for="poster">Selecione uma imagem:</label>
                <input class="form-control-file" type="file" id="poster" name="poster" (change)="handleFile($event)" #imageRef>
            </div>
            <div class="img-container">
                <img [src]="filePath">
            </div>

            <div class="form-group">
                <label for="gender">Genero</label>
                <select class="custom-select" id="gender" name="gender" placeholder="Selecione um gênero" [(ngModel)]="movie.gender">
                    <option *ngFor="let gender of genders" [value]="gender.id">
                        {{ gender.name }}
                    </option>
                </select>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" (click)="onSave()">Salvar</button>
                <button class="btn btn-warning" (click)="onClearForm()">Limpar</button>
            </div>
  
        </form>
    </div>

