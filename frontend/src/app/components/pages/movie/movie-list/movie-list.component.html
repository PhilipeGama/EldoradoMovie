<div class="title">
    <h2>Listagem de filmes</h2>
    <hr>
</div>
<div class="container">
    <a [routerLink]="['/movie/register']" class='btn-cadastrar'><i class="fas fa-plus-circle"></i> Novo Filme</a>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nome</th>
                <th>Bilheteria</th>
                <th class="col-acoes">Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let movie of movies">
                <td>{{ movie.id }}</td>
                <td>{{ movie.name }}</td>
                <td>{{ movie.box_office }}</td>
                <td>
                    <a (click)="toggleEdit()" class="btn btn-editar">
                        <i class="fas fa-pencil"></i>
                    </a>
                    <!-- <a   class="btn btn-visualizar">
                        <i class="fas fa-eye"></i>
                    </a> -->
                    <a (click)="toggleDelete()" class="btn btn-excluir">
                        <i class="fas fa-trash"></i>
                    </a>
                </td>

                <div *ngIf="showDelete">

                    <div class="modal">
                        <p>Deleta Filme</p>
                        <p>Filme: {{ movie.name }}</p>
                        <button (click)="delete(movie.id)" (click)="toggleDelete()"  >SIM</button>
                        <button (click)="toggleDelete()">NÃO</button>
                    </div>
                    <div (click)="toggleDelete()" class="overlay"></div>

                </div>

                <div *ngIf="showEdit">

                    <div class="modal-edit">
                        <button (click)="toggleEdit()">Fechar</button>
                        <app-movie-edit [movie]="movie" ></app-movie-edit>
                        <!-- <app-movie-edit ></app-movie-edit> -->
                    </div>
                    <div (click)="toggleEdit()" class="overlay"></div>

                </div>
            </tr>
        </tbody>
    </table>
</div>